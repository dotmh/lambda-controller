<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Dotmh - Lambda Controller - Request Body Classes LambdaController Classes Classes LambdaController × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" Dotmh - Lambda Controller - Request Body Classes LambdaController Serverless Lambda Controller A class to help make lambda function behind AWS API Gateway. It exposes some common methods to allow you to use Lambda behind API Gateway more as you would making a normal HTTP app. Installation To install npm i @dotmh/lamda-controller Usage Create a new controller import {LambdaController} from '@dotmh/lambda-controller'; class MyController extends LambdaController {} You then need to declare a method or methods to handle your requests import {LambdaController} from '@dotmh/lambda-controller'; class MyController extends LambdaController { handler() { // Your logic goes here } } This will contain your functions logic for that request Lastly create a function to call the handler on your controller, and export the function as your serverless function import {LambdaController} from '@dotmh/lambda-controller'; class MyController extends LambdaController { handler() { // Your logic goes here } } module.exports.handler = (event, ctx, callback) =&gt; { new MyController(event, ctx, callback).handler(); }; For API , see Documentation Extending To keep the library as small as possible it doesn't include some functionality that you may need. This includes request body handling and also functionality like cookies etc. However, the system is designed to be extended. The extention system is based on mixin's these are just normal JS objects that are mixed in to the Lambda controller class. A mixin that adds a function (method) and getter would look like this const mixin = { hello: () =&gt; 'Hello', get bye() { return 'Goodbye'; }, }; You can then add the mixin to Lamda controller using the add method. // ... new MyController(event, ctx, callback).add(mixin).handler(); // ... Inside your Controller class (the class that extends Lambda Controller) you can use the mixin methods , getters and setters as if they were originally defined on the main Lambda controller class. import {LambdaController} from '@dotmh/lambda-controller'; class MyController extends Controller { handler() { return this.bye; } } Initialising You may want to do somethings on intialization of the extending mixin. Normally you would use the constructor for this but because of the way the addon system works, the constructor A) Can not be overridden or extended, and B) would have already have been invoked. For this purpose you can use an \"init\" function. To use an init function declare a function called init on your mixin. const mixin = { init() { // ... do something }, get foo() { return 'bar'; }, }; Your init function wont appear on the Controller after it has been added, but will be called when the mixin is added to the controller class. It is called in the context of the controller so this will refer to the controller object. Plugins DotMH has created a number of plugins to add extra functionality to Lambda Controller Lamdda Controler Request Body Adds Request body handling to Lambda Controller Lambda Controller Cors Adds Cross Origin Resource Sharing support Lambda Controller Documentation For the API documentation see https://dotmh.github.io/lambda-controller Or to read locally npm run readdocs Licence This package is Treeware. If you use it in production, then we ask that you buy the world a tree to thank us for our work. By contributing to the Treeware forest you’ll be creating employment for local families and restoring wildlife habitats. Credits Logo design by @dotmh × Search results Close "},"LambdaController.html":{"id":"LambdaController.html","title":"Class: LambdaController","body":" Dotmh - Lambda Controller - Request Body Classes LambdaController Class: LambdaController LambdaController The base class for Lambda Controllers intended to be extended new LambdaController(event, ctx, callback) Parameters: Name Type Description event object An Object supplied by AWS Lambda containing the event data from API Gateway ctx object The Context object supplied by AWS Lambda callback function The callback to trigger and send the response back to API Gateway Author: Martin Haynes Members headers :object Gets the Request headers, these will always be in lowercase i.e content-type Type: object Properties: Name Type Description header string the header name i.e. content-type value * the value of the header Author: Martin Haynes method :string Returns the HTTP Method (aka Verb) i.e. POST, GET, PATCH, DELETE, PUT Type: string Author: Martin Haynes params :object Get the Path paramteres as a key value pair object Type: object Properties: Name Type Description key string the name of the path parameter value string the value of the path parameter Author: Martin Haynes Example // route /foo/:id, with url /foo/bar this.params // =&gt; {id: \"bar\"} path :string Gets the current path Type: string Author: Martin Haynes query :object Gets the Query String as an Object Type: object Properties: Name Type Description key string the key of Query string value string the value in the query string Author: Martin Haynes Methods add(mixin) Adds a Mixin in to the base class Parameters: Name Type Description mixin object The object to be mixed in Author: Martin Haynes Returns: An instance of the class Type LambdaController Example this.add({ get a() { return \"a\"; }, b() { return \"b\"; } }); addHeader(header, value) Adds a response header Parameters: Name Type Description header string The header name value * The header value Author: Martin Haynes Returns: An instance of the class Type LambdaController Example lambdaController.addHeader(\"content-type\", \"application/json\") badRequest() Sends a prefab Bad Request(400) error back to the end user Author: Martin Haynes Example lambdaController.badRequest(); body(string) Sets the response body Parameters: Name Type Description string * The response body Author: Martin Haynes Returns: An instance of the class Type LambdaController Example lambdaController.body(` &lt;html&gt; &lt;head&gt; &lt;title&gt;foobar&lt;/title&gt; &lt;/head&gt; &lt;body&gt; hello &lt;/body&gt; &lt;/html&gt; `); error(code, message) Sends an HTTP error response Parameters: Name Type Description code number The http status code to use message string The error message for the end user Author: Martin Haynes Example lambdaController.error(404, \"Resource was not found\") json(object) Sets up the response to respond in JSON Parameters: Name Type Description object object | array The Object or Array to serialize in to the response Author: Martin Haynes Returns: An instance of the class Type LambdaController Example lambdaController.json({foo: \"bar\", a: 1}); notFound() Sends a prefab Not Found (404) error back to the end user Author: Martin Haynes Example lambdaController.notFound(); send() Sends the response Author: Martin Haynes Example lambdaController.send(); sendJson(object) Sets up and sends the response in JSON, Parameters: Name Type Description object object | array The Object or Array to serialize in to the response Author: Martin Haynes Example lambdaController.sendJson({foo: \"bar\", a: 1}); serverError() Sends a prefab Internal Server Error (500) error back to the end user Author: Martin Haynes Example lambdaController.serverError(); status(code) Changes the responses http Status code Parameters: Name Type Description code number The HTTP reponse codes Author: Martin Haynes See: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status Returns: An instance of the class Type LambdaController Example lambdaController.status(200); type(type) Sets the content type on the response Sets the body to a JSON serialised string, as well sets the content-type correctly Parameters: Name Type Description type string A valid mime type to set the content type to Author: Martin Haynes Returns: An instance of the class Type LambdaController Example lambdaController.type(\"applicaiton/json\"); × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
